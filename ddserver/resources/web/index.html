<!DOCTYPE html>

<html lang="en">
<head>
  <title>ddserver - A dynamic DNS service</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="pragma" content="no-cache">

  <script type="text/javascript" src="static/js/lib/require.js" data-main="static/js/main.js"></script>

  <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="static/css/bootstrap-theme.min.css">
  <link rel="stylesheet" type="text/css" href="static/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="static/css/pager.css">
  <link rel="stylesheet" type="text/css" href="static/css/ddserver.css">
</head>

<body>
  <noscript>
    <div class="modal" style="display: block">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Javascript required</h4>
          </div>
          <div class="modal-body">
            <p>
              This Website does not work without Javascript.<br>
              Please activate Javascript in your browser or move along.
            </p>
          </div>
          <div class="modal-footer">
            <a target="_blank" href="http://www.enable-javascript.com" class="btn btn-primary">Need Help? - Klick here</a>
          </div>
        </div>
      </div>
    </div>
  </noscript>

  <header class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#mainmenu">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">ddserver</a>
      </div>

      <div class="collapse navbar-collapse navbar-inverse " id="mainmenu">
        <ul class="nav navbar-nav pull-right">
          <!-- ko foreach: $__page__.children -->
            <!-- ko if: ($data.getId() !== '?' && $data.getId() !== 'system') -->
              <li data-bind="css: {active: isVisible}">
                <a data-bind="page-href: $data">
                  <i class="fa fa-fw fa-home"></i>
                  <span data-bind="text: val('title')"></span>
                </a>
              </li>
            <!-- /ko -->
          <!-- /ko -->

          <!--
          @TODO: implement backend functions to check login and admin status

          <li><a href="/"><i class="fa fa-fw fa-home"></i> Start</a></li>
          {% if user %}
          <li><a href="/user/hosts/add"><i class="fa fa-fw fa-desktop"></i> Hostnames</a></li>
          <li><a href="/user/account"><i class="fa fa-fw fa-user"></i> Account</a></li>
            {% if user.admin %}
            <li class="divider"></li>
            <li><a href="/admin/users/all"><i class="fa fa-fw fa-users"></i> Users</a></li>
            <li><a href="/admin/suffixes/list"><i class="fa fa-fw fa-sitemap"></i> Zones</a></li>
            {% endif %}
          <li class="divider"></li>
          <li><a href="/logout"><i class="fa fa-fw fa-power-off"></i> Logout</a></li>
          {% endif %}
          -->
        </ul>
      </div>
    </div>
  </header>

  <div class="container main">
    <div data-bind="page: {id: 'start', title: 'Start', sourceOnShow: requireHTML('start'), withOnShow: requireVM('start'), role: 'start'}"></div>
    <div data-bind="page: {id: 'dashboard', title: 'Dashboard', sourceOnShow: requireHTML('dashboard'), withOnShow: requireVM('dashboard')}"></div>
    <div data-bind="page: {id: 'hostnames', title: 'Hostnames', sourceOnShow: requireHTML('hostnames'), withOnShow: requireVM('hostnames')}"></div>

    <!-- other pages -->
    <div data-bind="page: {id: 'system'}">
      <div data-bind="page: {id: 'help', title: 'Help', sourceOnShow: requireHTML('help')}"></div>
      <div data-bind="page: {id: 'about', title: 'About', sourceOnShow: requireHTML('about')}"></div>
      <div data-bind="page: {id: 'adduser', title: 'Add User', sourceOnShow: requireHTML('adduser')}"></div>
      <div data-bind="page: {id: '?', title: 'page not found', sourceOnShow: '/static/404.html' }"></div>

      <div data-bind="page: {id: 'login', title: 'Login', sourceOnShow: requireHTML('login'), withOnShow: requireVM('login') }"></div>
    </div>
    <div data-bind="page: {id: '?', title: 'page not found', sourceOnShow: '/static/404.html' }"></div>

    <!--
    @TODO: move to coffee script

    {% for message in messages.popall() %}
      <div class="alert alert-block alert-{{message.level}}">
        <a class="close" data-dismiss="alert" href="#">Ã—</a>
          {{message.message}}
      </div>
    {% endfor %}
    -->
  </div>
</body>
</html>